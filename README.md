Development of a Machine Vision-Based Yield Monitoring System 

This code was developed as a requirement for my Masters thesis project. Crop yield estimation and mapping are important tools that can help growers efficiently use their available resources and have access to detailed representations of their farm. Technical advancements in computer and machine vision have improved the detection, quality assessment and yield estimation processes for crops including apples, citrus, mangoes, maize, figs and many other fruits. However, similar methods capable of exporting a detailed yield map for vegetable crops have yet to be fully developed. A machine vision-based yield monitor was designed to perform identification, size categorization and continuous counting of shallot onions in-situ during the harvesting process. The system is composed of a video logger and global positioning system (GPS), coupled with computer software developed in Python. Computer vision analysis is performed within the tractor itself while an RGB camera positioned directly above the harvesting conveyor collects real time video data of the crops under natural sunlight conditions. Vegetables are segmented using Watershed segmentation, detected on the conveyor and then classified by size. Results showed that the system was able to correctly detect 62.6% of onions in a subsample of the dataset and showed a correlation coefficient (R2) of 0.494 between true and estimated counts. The software was also evaluated on its ability to classify the onions into 3 size categories (small, medium and large). A total of 55.9% of 271 analyzed onions were correctly categorized, with the highest performance achieved in the large class (73.3%), followed by the small class (58.7%) and medium class (44.4%). Based on the obtained results, occasional occlusion of vegetables and inconsistent lighting conditions were the main factors that inhibited performance.  Finally, these geotagged images were used to map the size distribution of the shallot onions on a small section of the onion field. Although further enhancements are envisioned for the prototype system to improve overall detection and size classification, its modular and novel design allows it to be used to map a selection of crops including carrots, shallot onions, Chinese radish and lettuce crops. The system has the potential to benefit many producers of small vegetable crops by providing them with useful harvest information in real time that can significantly improve current harvesting logistics. 
